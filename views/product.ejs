<%- include ('./adminheader.ejs') %>

<style>

body {
  font-family: "Open Sans", sans-serif;
  background: #e4e4e4;
  margin: 20px 0;
}
body .h1 {
  font-size: 2em;
}
body .h2 {
  font-size: 1.5em;
}
body .h3 {
  font-size: 1.17em;
}
body .h4 {
  font-size: 1em;
}
.editor-toolbar {
  background: #fff;
  border: 1px solid #cecece;
  margin: 0;
  padding: 0;
}
.editor-toolbar a {
  display: inline-block;
  padding: 8px 12px;
  color: #000;
}
.editor-toolbar a:hover {
  background: #e4e4e4;
}
.editor-toolbar .active {
  background: #e4e4e4;
}
.editor-toolbar .dropdown {
  display: inline-block;
}
.editor-toolbar .dropdown .btn-default {
  border: none;
}
.editor-toolbar .dropdown .btn-default:focus,
.editor-toolbar .dropdown .btn-default:hover {
  background: none;
}
.editor-toolbar .dropdown a {
  margin: 0;
}
#editor {
  resize: vertical;
  overflow: auto;
  line-height: 1.5;
  background: #fff;
  border: 1px solid #cecece;
  border-top: none;
  min-height: 150px;
  box-shadow: none;
  padding: 8px 16px;
  margin: 0 0 10px 0;
  font-size: 14px;
}
#editor:focus {
  outline: none;
}



#editor1 {
  resize: vertical;
  overflow: auto;
  line-height: 1.5;
  background: #fff;
  border: 1px solid #cecece;
  border-top: none;
  min-height: 150px;
  box-shadow: none;
  padding: 8px 16px;
  margin: 0 0 10px 0;
  font-size: 14px;
}
#editor1:focus {
  outline: none;
}
unselectable {
  -webkit-user-select: none;
  -moz-user-select: -moz-none;
  -ms-user-select: none;
}


</style>

      <!-- Main Content -->
      <div class="main-content">
        <section class="section">
          <div class="section-body">
            <div class="row">
              <div class="col-12 col-md-12 col-lg-12">
                <div class="card insertdiv" id='insertdiv'>
                  <div class="card-header">
                    <h4>New Product </h4>
                  </div>
                  <form action="/purchase-product/insert" method="POST" enctype="multipart/form-data" class="uploadImage">
                  <div class="card-body">
                  
                      <div class="row">


                        <div class="col-lg-12 col-md-12 col-sm-12">
                          <div class="form-group">
                              <label>SKU No.</label>
                            <input type="text" class="form-control" name="sku" id="sku" readonly>
                            </div>
                            
                        </div>


                        <script>
                          function generateSKU() {
                              const now = new Date();
                              const timestamp = now.getFullYear().toString() + 
                                                (now.getMonth() + 1).toString().padStart(2, '0') + 
                                                now.getDate().toString().padStart(2, '0') + 
                                                now.getHours().toString().padStart(2, '0') + 
                                                now.getMinutes().toString().padStart(2, '0') + 
                                                now.getSeconds().toString().padStart(2, '0') + 
                                                now.getMilliseconds().toString().padStart(3, '0'); 
                      
                              return 'SKU-' + timestamp;
                          }
                      
                          document.getElementById("sku").value = generateSKU();
                      </script>
                        


                          <div class="col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label>Category Name</label>
                               <select name="categoryid" id="categoryid" class="form-control" required></select>
                              </div>
                              
                          </div>

                          <div class="col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label>Product Name</label>
                               <input type="text" name="name" class="form-control" required>
                              </div>
                              
                          </div>


                          <div class="col-lg-4 col-md-4 col-sm-12">
                            <div class="form-group">
                                <label>Product Type</label>
                              <select class="form-control" name="type">
                                <option value="Most Loved">Most Loved</option>
                                <option value="Best Sellers">Best Sellers</option>
                                <option value="None">None</option>

                              </select>

                              </div>
                              
                          </div>
                          

                          
                      </div>
                  

                      <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                          <div class="form-group">
                              <label>Product Description</label>
                             <!-- <textarea cols="4" rows="4" name="short_description" class="form-control"> </textarea> -->

                             <div class="editor-toolbar">
                              <div class="dropdown">
                                <button class="btn btn-default dropdown-toggle" type="button" id="headingMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                  Heading
                                  <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="headingMenu">
                                  <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h1')" class="h1">Heading 1</a></li>
                                  <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h2')" class="h2">Heading 2</a></li>
                                  <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h3')" class="h3">Heading 3</a></li>          
                                  <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h4')" class="h4">Heading 4</a></li>
                                </ul>
                              </div>
                              
                              
                              <a href="javascript:void(0)" role="button" class="toolbar-btn unselectable" onclick="runCommand(this, 'bold', null)" unselectable="on"><i class="fa fa-bold"></i></a>
                              <a href="javascript:void(0)" role="button" class="toolbar-btn" onclick="runCommand(this, 'italic', null)"><i class="fa fa-italic"></i></a>
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'underline', null)"><i class="fa fa-underline"></i></a> 
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'indent', null)"><i class="fa fa-indent"></i></a> 
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertUnorderedList', null)"><i class="fa fa-list-ul"></i></a> 
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertOrderedList', null)"><i class="fa fa-list-ol"></i></a>
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'createLink', null)"><i class="fa fa-link"></i></a>
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'unlink', null)"><i class="fa fa-unlink"></i></a>
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'redo', null)"><i class="fa fa-repeat"></i></a>
                              <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'undo', null)"><i class="fa fa-undo"></i></a>         
                            </div>
                            
                            <div id="editor1" contenteditable="true"></div>
                            <!-- <textarea  id="messageText" type="hidden" name = 'description' ></textarea> -->
                            
                            <!-- <div class="row">
                              <div class="col-sm-2">
                                <button id="submit" class="btn btn-default btn-block" type="submit">Submit</button>
                              </div>
                            </div> -->
                          
  
                            </div>
                            
                        </div>
  
  
  
  
  
  
                        
  
                      
                    </div>

                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                          <!-- <div class="form-group">
                              <label>Product Description</label>
                             <textarea class="form-control" name="description" required></textarea>
                            </div> -->
                            <div class="form-group">
                              <label>Product Details</label>
                             
                              <div class="editor-toolbar">
                                <div class="dropdown">
                                  <button class="btn btn-default dropdown-toggle" type="button" id="headingMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                    Heading
                                    <span class="caret"></span>
                                  </button>
                                  <ul class="dropdown-menu" aria-labelledby="headingMenu">
                                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h1')" class="h1">Heading 1</a></li>
                                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h2')" class="h2">Heading 2</a></li>
                                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h3')" class="h3">Heading 3</a></li>          
                                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h4')" class="h4">Heading 4</a></li>
                                  </ul>
                                </div>
                                
                                
                                <a href="javascript:void(0)" role="button" class="toolbar-btn unselectable" onclick="runCommand(this, 'bold', null)" unselectable="on"><i class="fa fa-bold"></i></a>
                                <a href="javascript:void(0)" role="button" class="toolbar-btn" onclick="runCommand(this, 'italic', null)"><i class="fa fa-italic"></i></a>
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'underline', null)"><i class="fa fa-underline"></i></a> 
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'indent', null)"><i class="fa fa-indent"></i></a> 
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertUnorderedList', null)"><i class="fa fa-list-ul"></i></a> 
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertOrderedList', null)"><i class="fa fa-list-ol"></i></a>
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'createLink', null)"><i class="fa fa-link"></i></a>
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'unlink', null)"><i class="fa fa-unlink"></i></a>
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'redo', null)"><i class="fa fa-repeat"></i></a>
                                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'undo', null)"><i class="fa fa-undo"></i></a>         
                              </div>
                              
                              <div id="editor" contenteditable="true"></div>
                              <!-- <textarea  id="messageText" type="hidden" name = 'description' ></textarea> -->
                              
                              <!-- <div class="row">
                                <div class="col-sm-2">
                                  <button id="submit" class="btn btn-default btn-block" type="submit">Submit</button>
                                </div>
                              </div> -->
                            </div>
                            
                            
                        </div>

                    </div>





                





                    <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="form-group">
                            <label>Product Keywords</label>
                           <textarea cols="4" rows="4" name="keywords" class="form-control"> </textarea>

                          </div>
                          
                      </div>






                      

                    
                  </div>




                    <div class="row">
                        <div class="col-lg-6 col-md-4 col-sm-12">
                          <div class="form-group">
                              <label>Main Image</label>
                             <input type="file" name="image" class="form-control"  required>
                            </div>
                            
                        </div>

                        <div class="form-group col-md-6">
                          <label class="form-label">Multiple Images & Video</label>
                          <input type="file" class="form-control" name='image1' placeholder="Password" multiple required>
                          <div class="clearfix"></div>
                          </div>
      
      
             

                     

                      
                    </div>



                    <div class="row">


                       <div class="col-lg-6 col-md-6 col-sm-12">
                        <div class="form-group">
                            <label>Instagaram  Link</label>
                           <input type="text" name="fb_link" class="form-control">
                          </div>
                       </div>
                       

                      <div class="form-group col-md-6">
                        <label class="form-label">Youtube Link</label>
                        <input type="text" class="form-control" name='twitter_link'>
                        <div class="clearfix"></div>
                        </div>
    

    
                       


         

                   

                    
                  </div>






                  <div class="row">
                    <!-- Packaging Length -->
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group">
                            <label>Packaging Length</label>
                            <div class="input-group">
                                <input type="text" name="length" class="form-control" placeholder="Enter length">
                                <select class="form-select" name="length_unit" id="length_unit">
                                    <option value="cm">cm</option>
                                    <option value="m">m</option>
                                    <option value="inch">inch</option>
                                    <option value="foot">foot</option>
                                </select>
                            </div>
                        </div>
                    </div>
                
                    <!-- Packaging Breadth -->
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group">
                            <label>Packaging Breadth</label>
                            <div class="input-group">
                                <input type="text" class="form-control" name="breadth" placeholder="Enter breadth">
                                <select class="form-select" name="breadth_unit" id="breadth_unit" disabled>
                                    <option value="cm">cm</option>
                                    <option value="m">m</option>
                                    <option value="inch">inch</option>
                                    <option value="foot">foot</option>
                                </select>
                            </div>
                        </div>
                    </div>
                
                    <!-- Packaging Height -->
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group">
                            <label>Packaging Height</label>
                            <div class="input-group">
                                <input type="text" class="form-control" name="height" placeholder="Enter height">
                                <select class="form-select" name="height_unit" id="height_unit" disabled>
                                    <option value="cm">cm</option>
                                    <option value="m">m</option>
                                    <option value="inch">inch</option>
                                    <option value="foot">foot</option>
                                </select>
                            </div>
                        </div>
                    </div>
                
                    <!-- Packaging Weight -->
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group">
                            <label>Packaging Weight</label>
                            <div class="input-group">
                                <input type="text" class="form-control" name="weight" placeholder="Enter weight">
                                <select class="form-select" name="weight_unit">
                                    <option value="g">g</option>
                                    <option value="kg">kg</option>
                                    <option value="lb">lb</option>
                                    <option value="oz">oz</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <script>
                    document.getElementById('length_unit').addEventListener('change', function() {
                        let selectedUnit = this.value;
                        document.getElementById('breadth_unit').value = selectedUnit;
                        document.getElementById('height_unit').value = selectedUnit;
                    });
                </script>
                
                  
                  </div>
                  <div class="card-footer text-right">
                    <button class="btn btn-primary mr-1" type="submit">Submit</button>
                    <button class="btn btn-danger mr-1 show" id="show" type="button" >Show All Product</button>
                  </div>
                  </form>
                </div>
            
                
                
<div class="card mb-4" id='result'></div>



<div class="card mb-4" id='editdiv'>
    <h6 class="card-header"><span><button type="button" class="btn btn-primary show" id="back1" style="margin:10px">Back</button></span>Edit Data</h6>
    <div class="card-body">
    
        <form>
           
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-12">
              <div class="form-group">
                  <label>Category Name</label>
                 <select name="categoryid" id="pcategoryid" class="form-control" required></select>
                </div>
                
            </div>



            <div class="col-lg-4 col-md-4 col-sm-12">
              <div class="form-group">
                  <label>Product Name</label>
                 <input type="text" id="pname" class="form-control" required>
                </div>
                
            </div>

          

            <div class="col-lg-4 col-md-4 col-sm-12">
              <div class="form-group">
                  <label>Product Type</label>
                <select class="form-control" id="ptype">
                  <option value="Most Loved">Most Loved</option>
                  <option value="Best Sellers">Best Sellers</option>
                  <option value="None">None</option>

                </select>

                </div>
                
            </div>

            
        </div>


        <input type="hidden" id="pid" class="form-control" value="pid" required>
    

       
  





        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="form-group">
                <label>Product Description</label>
                <div class="editor-toolbar">
                  <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="headingMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                      Heading
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="headingMenu">
                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h1')" class="h1">Heading 1</a></li>
                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h2')" class="h2">Heading 2</a></li>
                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h3')" class="h3">Heading 3</a></li>          
                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h4')" class="h4">Heading 4</a></li>
                    </ul>
                  </div>
                  
                  
                  <a href="javascript:void(0)" role="button" class="toolbar-btn unselectable" onclick="runCommand(this, 'bold', null)" unselectable="on"><i class="fa fa-bold"></i></a>
                  <a href="javascript:void(0)" role="button" class="toolbar-btn" onclick="runCommand(this, 'italic', null)"><i class="fa fa-italic"></i></a>
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'underline', null)"><i class="fa fa-underline"></i></a> 
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'indent', null)"><i class="fa fa-indent"></i></a> 
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertUnorderedList', null)"><i class="fa fa-list-ul"></i></a> 
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertOrderedList', null)"><i class="fa fa-list-ol"></i></a>
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'createLink', null)"><i class="fa fa-link"></i></a>
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'unlink', null)"><i class="fa fa-unlink"></i></a>
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'redo', null)"><i class="fa fa-repeat"></i></a>
                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'undo', null)"><i class="fa fa-undo"></i></a>         
                </div>
                
                <div id="editor" class="peditor1" contenteditable="true"></div>

              </div>
              
          </div>
</div>


        
      <!-- </div> -->



      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <!-- <div class="form-group">
              <label>Product Description</label>
             <textarea class="form-control" name="description" required></textarea>
            </div> -->



            

            <!-- <div class="container"> -->
              <label>Product Details</label>
             
              <div class="editor-toolbar">
                <div class="dropdown">
                  <button class="btn btn-default dropdown-toggle" type="button" id="headingMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Heading
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="headingMenu">
                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h1')" class="h1">Heading 1</a></li>
                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h2')" class="h2">Heading 2</a></li>
                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h3')" class="h3">Heading 3</a></li>          
                    <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h4')" class="h4">Heading 4</a></li>
                  </ul>
                </div>
                
                
                <a href="javascript:void(0)" role="button" class="toolbar-btn unselectable" onclick="runCommand(this, 'bold', null)" unselectable="on"><i class="fa fa-bold"></i></a>
                <a href="javascript:void(0)" role="button" class="toolbar-btn" onclick="runCommand(this, 'italic', null)"><i class="fa fa-italic"></i></a>
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'underline', null)"><i class="fa fa-underline"></i></a> 
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'indent', null)"><i class="fa fa-indent"></i></a> 
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertUnorderedList', null)"><i class="fa fa-list-ul"></i></a> 
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertOrderedList', null)"><i class="fa fa-list-ol"></i></a>
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'createLink', null)"><i class="fa fa-link"></i></a>
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'unlink', null)"><i class="fa fa-unlink"></i></a>
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'redo', null)"><i class="fa fa-repeat"></i></a>
                <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'undo', null)"><i class="fa fa-undo"></i></a>         
              </div>
              
              <div id="editor" class="peditor"  contenteditable="true"></div>
              <!-- <textarea  id="messageText" type="hidden" class="pdescription" name = 'description' ></textarea> -->
              
              <!-- <div class="row">
                <div class="col-sm-2">
                  <button id="submit" class="btn btn-default btn-block" type="submit">Submit</button>
                </div>
              </div> -->
            </div>
            
          </div>

          




            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="form-group">
                    <label>Product Keywords</label>
                   <textarea cols="4" rows="4" id="pkeywords" class="form-control"> </textarea>

                  </div>
                  
              </div>



            
          </div>





          <div class="row">

            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="form-group">
                  <label>Instagaram  Link</label>
                 <input type="text" id="pfb_link" class="form-control"  required>
                </div>
                
            </div>

            <div class="form-group col-md-6">
              <label class="form-label">Youtube Link</label>
              <input type="text" class="form-control" id='ptwitter_link' required>
              <div class="clearfix"></div>
              </div>


  


         

          
        </div>




        <div class="row">


          <div class="col-lg-3 col-md-3 col-sm-12">
           <div class="form-group">
               <label>Packaging Length</label>
               <div class="input-group">
              <input type="text" id="plength" class="form-control">
              <select class="form-select" name="length_unit" id="plength_unit">
                <option value="cm">cm</option>
                <option value="m">m</option>
                <option value="inch">inch</option>
                <option value="foot">foot</option>
            </select>
            </div>
             </div>
          </div>
          

         <div class="form-group col-md-3">
           <label class="form-label">Packaging Breadth</label>
           <div class="input-group">

           <input type="text" class="form-control" id='pbreadth'>
           <select class="form-select" name="breadth_unit" id="pbreadth_unit" disabled>
            <option value="cm">cm</option>
            <option value="m">m</option>
            <option value="inch">inch</option>
            <option value="foot">foot</option>
        </select>
        </div>
           <div class="clearfix"></div>
           </div>



           <div class="form-group col-md-3">
           <label class="form-label">Packaging Height</label>
           <div class="input-group">
           <input type="text" class="form-control" id='pheight'>
           <select class="form-select" name="height_unit" id="pheight_unit" disabled>
            <option value="cm">cm</option>
            <option value="m">m</option>
            <option value="inch">inch</option>
            <option value="foot">foot</option>
        </select>
        </div>
           <div class="clearfix"></div>
           </div> 



           <div class="form-group col-md-3">
            <label class="form-label">Packaging Weight</label>
           <div class="input-group">

            <input type="text" class="form-control" id='pweight'>
            <select class="form-select" name="height_unit" id="pweight_unit">
              <option value="g">g</option>
              <option value="kg">kg</option>
              <option value="lb">lb</option>
              <option value="oz">oz</option>
          </select>
          </div>

            <div class="clearfix"></div>
            </div> 




      

       
     </div>

<!-- . -->


            
            
        </div>

    </div>
            
            <button type="button" id='update' class="btn btn-primary">Submit</button>
            </form>
    </div>
    </div>
    
    <script>
      document.getElementById('plength_unit').addEventListener('change', function() {
          let selectedUnit = this.value;
          document.getElementById('pbreadth_unit').value = selectedUnit;
          document.getElementById('pheight_unit').value = selectedUnit;
      });
  </script>
    
    <div class="card mb-4" id="updateimagediv">
    <h6 class="card-header"><span><button type="button" class="btn btn-primary show" id="back2" style="margin:10px">Back</button></span> Upload Image</h6>
    <div class="card-body">
    
        <form action="/purchase-product/update_image" method="POST" enctype="multipart/form-data">
           
          
          
          
          
          <div class="form-row">
       
              <input type="hidden" class="form-control" placeholder="Email" id="peid" name="id" readonly>
              <div id="pi1"></div>
                    <div class="form-group col-md-12">
                      <label class="form-label">Main Image</label>
                      <input type="file" class="form-control" name='image' placeholder="Password">
                     
                      <div class="clearfix"></div>
                      </div>

                     
    
    
       


            </div>
            

            
            <button type="submit" class="btn btn-primary">Submit</button>
            </form>
    </div>
    </div>
    
    <!-- <div id="loader" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
background: rgba(0,0,0,0.5); padding: 20px; border-radius: 5px; color: white; text-align: center;">
<span>Loading...</span>
</div> -->



<div id="loader" class="loader-container">
  <div class="spinner"></div>
  <span>Loading...</span>
</div>

<style>
.loader-container {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.7);
  padding: 30px;
  border-radius: 10px;
  color: white;
  text-align: center;
  font-size: 18px;
  font-weight: bold;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-top: 4px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 10px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>



            
              </div>
             
            </div>
          </div>
        </section>
        <div class="settingSidebar">
          <a href="javascript:void(0)" class="settingPanelToggle"> <i class="fa fa-spin fa-cog"></i>
          </a>
       
        </div>
      </div>
      
    </div>
  </div>
  <!-- General JS Scripts -->
  <script src="/light/assets/js/app.min.js"></script>   
  <!-- JS Libraies -->
  <!-- Page Specific JS File -->
  <!-- Template JS File -->
  <script src="/light/assets/js/scripts.js"></script>
  <!-- Custom JS File -->
  <script src="/light/assets/js/custom.js"></script>


  <script src="/javascripts/product.js"></script>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
 


  <!-- Loader (Hidden by Default) -->

<script>
$('.uploadImage').submit(function (e) {
   e.preventDefault();
   let description = $("#editor").html().trim();
   let short_description = $("#editor1").html().trim();

   // Show Loader
   $('#loader').show();

   $(this).ajaxSubmit({
       data: { description: description, short_description: short_description },
       contentType: 'application/json',
       beforeSend: function() {
           $('.uploadImage button[type="submit"]').prop('disabled', true); // Disable submit button
       },
       success: function (response) {
           console.log(response);
           if(response.status == '300' || response.status == 300) {
               alert(response.description);
           } else if(response.type == 'success') {
               alert('Successfully uploaded!');
               window.location.reload();
           }
           else{
            alert('Error Occured')
           }
       },
       error: function(xhr, status, error) {
           alert("Something went wrong. Please try again.");
           console.error(error);
       },
       complete: function() {
           $('#loader').hide(); // Hide Loader
           $('.uploadImage button[type="submit"]').prop('disabled', false); // Enable submit button
       }
   });

   return false;
});
</script>




<script>
  // Move caret back to 
function placeCaretAtEnd(el) {
  el.focus();
  if (typeof window.getSelection != "undefined" && typeof document.createRange != "undefined") {
    var range = document.createRange();
    range.selectNodeContents(el);
    range.collapse(false);
    var sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
  } else if (typeof document.body.createTextRange != "undefined") {
    var textRange = document.body.createTextRange();
    textRange.moveToElementText(el);
    textRange.collapse(false);
    textRange.select();
  }
}

// Clean HTML tags using sanitize-html
function cleanHtml() {  
  let value = $("#editor").html();
  let clean = sanitizeHtml(value, {
    allowedTags: ['div', 'blockquote', 'b', 'strong', 'i', 'em', 'ul', 'ol', 'li'],
    allowedAttributes: {
      'blockquote': ['style']
    }
  });

  let cleanValue = clean.trim();  
  setContent();
}

// Paste from MS Word    *CREDIT: https://gist.github.com/sbrin/6801034
(function($) {
    $.fn.msword_html_filter = function(options) {
      let settings = $.extend( {}, options);

      function word_filter(editor){
        let content = editor.html();

        // Word comments like conditional comments etc
        content = content.replace(/<!--[\s\S]+?-->/gi, '');

        // Remove comments, scripts (e.g., msoShowComment), XML tag, VML content,
        // MS Office namespaced tags, and a few other tags
        content = content.replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, '');

        // Convert <s> into <strike> for line-though
        content = content.replace(/<(\/?)s>/gi, "<$1strike>");

        // Replace nbsp entites to char since it's easier to handle
        //content = content.replace(/&nbsp;/gi, "\u00a0");
        content = content.replace(/&nbsp;/gi, ' ');

        // Convert <span style="mso-spacerun:yes">___</span> to string of alternating
        // breaking/non-breaking spaces of same length
        content = content.replace(/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function(str, spaces) {
          return (spaces.length > 0) ? spaces.replace(/./, " ").slice(Math.floor(spaces.length/2)).split("").join("\u00a0") : '';
        });

        editor.html(content);

        // Parse out list indent level for lists
        $('p', editor).each(function(){
          let str = $(this).attr('style');
          let matches = /mso-list:\w+ \w+([0-9]+)/.exec(str);
          if (matches) {
            $(this).data('_listLevel',  parseInt(matches[1], 10));
          }
        });

        // Parse Lists
        let last_level=0;
        let pnt = null;
        $('p', editor).each(function(){
            let cur_level = $(this).data('_listLevel');
            if(cur_level != undefined){
                let txt = $(this).text();
                let list_tag = '<ul></ul>';
                if (/^\s*\w+\./.test(txt)) {
                    let matches = /([0-9])\./.exec(txt);
                    if (matches) {
                        let start = parseInt(matches[1], 10);
                        list_tag = start>1 ? '<ol start="' + start + '"></ol>' : '<ol></ol>';
                    }else{
                        list_tag = '<ol></ol>';
                    }
                }

                if(cur_level>last_level){
                  if(last_level==0){
                    $(this).before(list_tag);
                    pnt = $(this).prev();
                  }else{
                    pnt = $(list_tag).appendTo(pnt);
                  }
                }
                if(cur_level<last_level){
                  for(let i=0; i<last_level-cur_level; i++){
                    pnt = pnt.parent();
                  }
                }
                $('span:first', this).remove();
                pnt.append('<li>' + $(this).html().replace(/\d+\./g, '') + '</li>')
                $('b:empty').remove();
                $(this).remove();
                last_level = cur_level;
            }else{
                last_level = 0;
            }
        })

        $('[style]', editor).removeAttr('style');
        $('[align]', editor).removeAttr('align');
        $('span', editor).replaceWith(function() {return $(this).contents();});
        $('span:empty', editor).remove();
        $("[class^='Mso']", editor).removeAttr('class');
        $('p:empty', editor).remove();
      }

      return this.each(function() {
        let self = this;
        $(self).on('keyup paste', function(){
          
          setTimeout(function() {
             let content = $(self).html();
            (/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test( content )) ? word_filter( $(self) ) : cleanHtml();
          }, 400);           
        });
      });
    };
})( jQuery )


$(function(){  
  $('#editor').msword_html_filter(); 
})

function setContent() {
  let value = $(this).html();
  
  let el = $("#editor").get(0);
  placeCaretAtEnd(el);
}


//### EVENTS/ACTIONS ###//

//execCommand(aCommandName, aShowDefaultUI, aValueArgument)
function runCommand(el, commandName, arg) {  
  if (commandName === "createLink") {
    let argument = prompt("Insert link:");
    document.execCommand(commandName, false, argument);
  }else {    
    document.execCommand(commandName, false, arg);
  }  
  $("#editor").focus();
  return false;
}

// Capture wysiwyg val and assign to textarea val
// $("#editor").keyup(function() {
//   let value = $(this).html();
//   $("#messageText").val(value);  
// });

// Show submitted data
$('#submit').click(function(e) {
  e.preventDefault();
  let content = $("#editor").html().trim();
  alert("VALUE SUBMITTED: \n" + content);  
});
</script>


</body>


</html>